extends layout
block content
    link(rel="stylesheet" href="/stylesheets/components/layout.css")
    link(rel="stylesheet" href="/stylesheets/pages/questions.css")
    H1.questions_title All Questions
        div.questions_container_big
            div.questions_container.small
                if questions.length
                    each question in questions
                        div.question
                            span(id=`questions-${question.id}-vote-count`) üëç #{question.voteCount}
                            span(id=`questions-${question.id}-answer-count`) üí¨ #{question.Answers.length}
                            a(href=`/questions/${question.id}`) #{question.title}
                else
                    p No questions yet.
                - var i = 0;
            div.page_links
                if pageNumber < 5
                    if 0 < prevPage
                        a(href=`/questions?page=${prevPage}`) Prev
                    while i < 5 && i < amountOfPages
                        - ++i
                        a(href=`/questions?page=${i}`) #{i}
                    if(amountOfPages>5)
                        p ...
                    a(href=`/questions?page=${amountOfPages}`) Last Page
                    if i >= nextPage
                        a(href=`/questions?page=${nextPage}`) Next
                else if pageNumber <= amountOfPages - 4
                    a(href=`/questions?page=${prevPage}`) Prev
                    a(href=`/questions?page=${1}`) First page
                    if(amountOfPages>5)
                        p ...
                    - var j = pageNumber - 2;
                    while j <= pageNumber + 2
                        a(href=`/questions?page=${j}`) #{j}
                        - ++j
                    if(amountOfPages>5)
                        p ...
                    a(href=`/questions?page=${amountOfPages}`) Last Page
                    a(href=`/questions?page=${nextPage}`) Next
                else
                    a(href=`/questions?page=${prevPage}`) Prev
                    a(href=`/questions?page=${1}`) First page
                    if(amountOfPages>5)
                        p ...
                    - var k = amountOfPages - 4;
                    while k < amountOfPages
                        a(href=`/questions?page=${k}`) #{k}
                        - ++k
                    a(href=`/questions?page=${amountOfPages}`) Page #{k}
                    if pageNumber !== amountOfPages
                        a(href=`/questions?page=${nextPage}`) Next
    script(src='../javascripts/index.js' type='module')
